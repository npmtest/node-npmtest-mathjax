<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-mathjax/node_modules/mathjax/extensions/MathML/mml3.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-mathjax">npmtest-mathjax (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-mathjax/node_modules/mathjax/extensions/MathML/mml3.js</span></h1>
    <h2>
        
        Statements: <span class="metric">2.17% <small>(1 / 46)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 24)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 4)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">100% <small>(1 / 1)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-mathjax/node_modules/mathjax/extensions/MathML/</a> &#187; mml3.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/*
 *  /MathJax/extensions/MathML/mml3.js
 *
 *  Copyright (c) 2009-2016 The MathJax Consortium
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */
&nbsp;
MathJax.Extension["MathML/mml3"]={version:"2.7.0"};<span class="cstat-no" title="statement not covered" >MathJax.Hub.Register.StartupHook("MathML Jax Ready",<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>var d=MathJax.InputJax.MathML,g=d.Parse.prototype;<span class="cstat-no" title="statement not covered" >d</span>.prefilterHooks.Add(<span class="fstat-no" title="function not covered" >function(j){<span class="cstat-no" title="statement not covered" ></span>if(!d.mml3XSLT){<span class="cstat-no" title="statement not covered" >return}<span class="cstat-no" title="statement not covered" ></span>i</span>f(!d.ParseXML){<span class="cstat-no" title="statement not covered" >d.ParseXML=d.createParser()}<span class="cstat-no" title="statement not covered" ></span>v</span>ar k=d.ParseXML(g.preProcessMath(j.math));<span class="cstat-no" title="statement not covered" >v</span>ar i=d.mml3XSLT.transformToDocument(k);<span class="cstat-no" title="statement not covered" >i</span>f((typeof i)==="string"){<span class="cstat-no" title="statement not covered" >j.math=i}</span>else{<span class="cstat-no" title="statement not covered" >if(window.XMLSerializer){<span class="cstat-no" title="statement not covered" >var h=new XMLSerializer();<span class="cstat-no" title="statement not covered" >j</span>.math=h.serializeToString(i.documentElement,k)}</span>}</span>}</span>);<span class="cstat-no" title="statement not covered" >v</span>ar f=MathJax.Hub.Browser;<span class="cstat-no" title="statement not covered" >v</span>ar c="";<span class="cstat-no" title="statement not covered" >i</span>f(f.isEdge||f.isMSIE){<span class="cstat-no" title="statement not covered" >c="urn:schemas-microsoft-com:xslt"}</span>else{<span class="cstat-no" title="statement not covered" >c="http://exslt.org/common"}<span class="cstat-no" title="statement not covered" ></span>v</span>ar e='&lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" 		xmlns:m="http://www.w3.org/1998/Math/MathML"		xmlns:c="'+c+'"		exclude-result-prefixes="m c"&gt;&lt;xsl:output indent="yes" omit-xml-declaration="yes"/&gt;&lt;xsl:output indent="yes" omit-xml-declaration="yes"/&gt;&lt;xsl:template match="*"&gt; &lt;xsl:copy&gt;  &lt;xsl:copy-of select="@*"/&gt;  &lt;xsl:apply-templates/&gt; &lt;/xsl:copy&gt;&lt;/xsl:template&gt;&lt;xsl:template match="m:*[@dir=\'rtl\']"  priority="10"&gt; &lt;xsl:apply-templates mode="rtl" select="."/&gt;&lt;/xsl:template&gt;&lt;xsl:template match="@*" mode="rtl"&gt; &lt;xsl:copy-of select="."/&gt; &lt;xsl:attribute name="dir"&gt;ltr&lt;/xsl:attribute&gt;&lt;/xsl:template&gt;&lt;xsl:template match="*" mode="rtl"&gt; &lt;xsl:copy&gt;  &lt;xsl:apply-templates select="@*" mode="rtl"/&gt;  &lt;xsl:for-each select="node()"&gt;   &lt;xsl:sort data-type="number" order="descending" select="position()"/&gt;   &lt;xsl:text&gt; &lt;/xsl:text&gt;   &lt;xsl:apply-templates mode="rtl" select="."/&gt;  &lt;/xsl:for-each&gt; &lt;/xsl:copy&gt;&lt;/xsl:template&gt;&lt;xsl:template match="@open" mode="rtl"&gt; &lt;xsl:attribute name="close"&gt;&lt;xsl:value-of select="."/&gt;&lt;/xsl:attribute&gt;&lt;/xsl:template&gt;&lt;xsl:template match="@open[.=\'(\']" mode="rtl"&gt; &lt;xsl:attribute name="close"&gt;)&lt;/xsl:attribute&gt;&lt;/xsl:template&gt;&lt;xsl:template match="@open[.=\')\']" mode="rtl"&gt; &lt;xsl:attribute name="close"&gt;(&lt;/xsl:attribute&gt;&lt;/xsl:template&gt;&lt;xsl:template match="@open[.=\'[\']" mode="rtl"&gt; &lt;xsl:attribute name="close"&gt;]&lt;/xsl:attribute&gt;&lt;/xsl:template&gt;&lt;xsl:template match="@open[.=\']\']" mode="rtl"&gt; &lt;xsl:attribute name="close"&gt;[&lt;/xsl:attribute&gt;&lt;/xsl:template&gt;&lt;xsl:template match="@open[.=\'{\']" mode="rtl"&gt; &lt;xsl:attribute name="close"&gt;}&lt;/xsl:attribute&gt;&lt;/xsl:template&gt;&lt;xsl:template match="@open[.=\'}\']" mode="rtl"&gt; &lt;xsl:attribute name="close"&gt;{&lt;/xsl:attribute&gt;&lt;/xsl:template&gt;&lt;xsl:template match="@close" mode="rtl"&gt; &lt;xsl:attribute name="open"&gt;&lt;xsl:value-of select="."/&gt;&lt;/xsl:attribute&gt;&lt;/xsl:template&gt;&lt;xsl:template match="@close[.=\'(\']" mode="rtl"&gt; &lt;xsl:attribute name="open"&gt;)&lt;/xsl:attribute&gt;&lt;/xsl:template&gt;&lt;xsl:template match="@close[.=\')\']" mode="rtl"&gt; &lt;xsl:attribute name="open"&gt;(&lt;/xsl:attribute&gt;&lt;/xsl:template&gt;&lt;xsl:template match="@close[.=\'[\']" mode="rtl"&gt; &lt;xsl:attribute name="open"&gt;]&lt;/xsl:attribute&gt;&lt;/xsl:template&gt;&lt;xsl:template match="@close[.=\']\']" mode="rtl"&gt; &lt;xsl:attribute name="open"&gt;[&lt;/xsl:attribute&gt;&lt;/xsl:template&gt;&lt;xsl:template match="@close[.=\'{\']" mode="rtl"&gt; &lt;xsl:attribute name="open"&gt;}&lt;/xsl:attribute&gt;&lt;/xsl:template&gt;&lt;xsl:template match="@close[.=\'}\']" mode="rtl"&gt; &lt;xsl:attribute name="open"&gt;{&lt;/xsl:attribute&gt;&lt;/xsl:template&gt;&lt;xsl:template match="m:mfrac[@bevelled=\'true\']" mode="rtl"&gt; &lt;m:mrow&gt;  &lt;m:msub&gt;&lt;m:mi&gt;&lt;/m:mi&gt;&lt;xsl:apply-templates select="*[2]" mode="rtl"/&gt;&lt;/m:msub&gt;  &lt;m:mo&gt;&amp;#x5c;&lt;/m:mo&gt;  &lt;m:msup&gt;&lt;m:mi&gt;&lt;/m:mi&gt;&lt;xsl:apply-templates select="*[1]" mode="rtl"/&gt;&lt;/m:msup&gt; &lt;/m:mrow&gt;&lt;/xsl:template&gt;&lt;xsl:template match="m:mfrac" mode="rtl"&gt; &lt;xsl:copy&gt;  &lt;xsl:apply-templates mode="rtl" select="@*|*"/&gt; &lt;/xsl:copy&gt;&lt;/xsl:template&gt;&lt;xsl:template match="m:mroot" mode="rtl"&gt; &lt;m:msup&gt;  &lt;m:menclose notation="top right"&gt;   &lt;xsl:apply-templates mode="rtl" select="@*|*[1]"/&gt;  &lt;/m:menclose&gt;  &lt;xsl:apply-templates mode="rtl" select="*[2]"/&gt; &lt;/m:msup&gt;&lt;/xsl:template&gt;&lt;xsl:template match="m:msqrt" mode="rtl"&gt; &lt;m:menclose notation="top right"&gt;  &lt;xsl:apply-templates mode="rtl" select="@*|*[1]"/&gt; &lt;/m:menclose&gt;&lt;/xsl:template&gt;&lt;xsl:template match="m:mtable|m:munder|m:mover|m:munderover" mode="rtl" priority="2"&gt; &lt;xsl:copy&gt;  &lt;xsl:apply-templates select="@*" mode="rtl"/&gt;  &lt;xsl:apply-templates mode="rtl"&gt;  &lt;/xsl:apply-templates&gt; &lt;/xsl:copy&gt;&lt;/xsl:template&gt;&lt;xsl:template match="m:msup" mode="rtl" priority="2"&gt; &lt;m:mmultiscripts&gt;  &lt;xsl:apply-templates select="*[1]" mode="rtl"/&gt;  &lt;m:mprescripts/&gt;  &lt;m:none/&gt;  &lt;xsl:apply-templates select="*[2]" mode="rtl"/&gt; &lt;/m:mmultiscripts&gt;&lt;/xsl:template&gt;&lt;xsl:template match="m:msub" mode="rtl" priority="2"&gt; &lt;m:mmultiscripts&gt;  &lt;xsl:apply-templates select="*[1]" mode="rtl"/&gt;  &lt;m:mprescripts/&gt;  &lt;xsl:apply-templates select="*[2]" mode="rtl"/&gt;  &lt;m:none/&gt; &lt;/m:mmultiscripts&gt;&lt;/xsl:template&gt;&lt;xsl:template match="m:msubsup" mode="rtl" priority="2"&gt; &lt;m:mmultiscripts&gt;  &lt;xsl:apply-templates select="*[1]" mode="rtl"/&gt;  &lt;m:mprescripts/&gt;  &lt;xsl:apply-templates select="*[2]" mode="rtl"/&gt;  &lt;xsl:apply-templates select="*[3]" mode="rtl"/&gt; &lt;/m:mmultiscripts&gt;&lt;/xsl:template&gt;&lt;xsl:template match="m:mmultiscripts" mode="rtl" priority="2"&gt; &lt;m:mmultiscripts&gt;  &lt;xsl:apply-templates select="*[1]" mode="rtl"/&gt;  &lt;xsl:for-each  select="m:mprescripts/following-sibling::*[position() mod 2 = 1]"&gt;   &lt;xsl:sort data-type="number" order="descending" select="position()"/&gt;   &lt;xsl:apply-templates select="."  mode="rtl"/&gt;   &lt;xsl:apply-templates select="following-sibling::*[1]"  mode="rtl"/&gt;  &lt;/xsl:for-each&gt;  &lt;m:mprescripts/&gt;  &lt;xsl:for-each  select="m:mprescripts/preceding-sibling::*[position()!=last()][position() mod 2 = 0]"&gt;   &lt;xsl:sort data-type="number" order="descending" select="position()"/&gt;   &lt;xsl:apply-templates select="."  mode="rtl"/&gt;   &lt;xsl:apply-templates select="following-sibling::*[1]"  mode="rtl"/&gt;  &lt;/xsl:for-each&gt; &lt;/m:mmultiscripts&gt;&lt;/xsl:template&gt;&lt;xsl:template match="m:mmultiscripts[not(m:mprescripts)]" mode="rtl" priority="3"&gt; &lt;m:mmultiscripts&gt;  &lt;xsl:apply-templates select="*[1]" mode="rtl"/&gt;  &lt;m:mprescripts/&gt;  &lt;xsl:for-each  select="*[position() mod 2 = 0]"&gt;   &lt;xsl:sort data-type="number" order="descending" select="position()"/&gt;   &lt;xsl:apply-templates select="."  mode="rtl"/&gt;   &lt;xsl:apply-templates select="following-sibling::*[1]"  mode="rtl"/&gt;  &lt;/xsl:for-each&gt; &lt;/m:mmultiscripts&gt;&lt;/xsl:template&gt;&lt;xsl:template match="text()[.=\'(\']" mode="rtl"&gt;)&lt;/xsl:template&gt;&lt;xsl:template match="text()[.=\')\']" mode="rtl"&gt;(&lt;/xsl:template&gt;&lt;xsl:template match="text()[.=\'{\']" mode="rtl"&gt;}&lt;/xsl:template&gt;&lt;xsl:template match="text()[.=\'}\']" mode="rtl"&gt;{&lt;/xsl:template&gt;&lt;xsl:template match="text()[.=\'&amp;lt;\']" mode="rtl"&gt;&amp;gt;&lt;/xsl:template&gt;&lt;xsl:template match="text()[.=\'&amp;gt;\']" mode="rtl"&gt;&amp;lt;&lt;/xsl:template&gt;&lt;xsl:template match="text()[.=\'&amp;#x2208;\']" mode="rtl"&gt;&amp;#x220b;&lt;/xsl:template&gt;&lt;xsl:template match="text()[.=\'&amp;#x220b;\']" mode="rtl"&gt;&amp;#x2208;&lt;/xsl:template&gt;&lt;xsl:template match="@notation[.=\'radical\']" mode="rtl"&gt; &lt;xsl:attribute name="notation"&gt;top right&lt;/xsl:attribute&gt;&lt;/xsl:template&gt;&lt;xsl:template match="m:mlongdiv|m:mstack" mode="rtl"&gt; &lt;m:mrow dir="ltr"&gt; &lt;xsl:apply-templates select="."/&gt; &lt;/m:mrow&gt;&lt;/xsl:template&gt;&lt;xsl:template match="m:mstack" priority="11"&gt; &lt;xsl:variable name="m"&gt;  &lt;m:mtable columnspacing="0em"&gt;   &lt;xsl:copy-of select="@align"/&gt;  &lt;xsl:variable name="t"&gt;   &lt;xsl:apply-templates select="*" mode="mstack1"&gt;    &lt;xsl:with-param name="p" select="0"/&gt;   &lt;/xsl:apply-templates&gt;  &lt;/xsl:variable&gt;  &lt;xsl:variable name="maxl"&gt;   &lt;xsl:for-each select="c:node-set($t)/*/@l"&gt;    &lt;xsl:sort data-type="number" order="descending"/&gt;    &lt;xsl:if test="position()=1"&gt;     &lt;xsl:value-of select="."/&gt;    &lt;/xsl:if&gt;   &lt;/xsl:for-each&gt;  &lt;/xsl:variable&gt;  &lt;xsl:for-each select="c:node-set($t)/*[not(@class=\'mscarries\') or following-sibling::*[1]/@class=\'mscarries\']"&gt;&lt;xsl:variable name="c" select="preceding-sibling::*[1][@class=\'mscarries\']"/&gt;   &lt;xsl:text&gt;&amp;#10;&lt;/xsl:text&gt;   &lt;m:mtr&gt;    &lt;xsl:copy-of select="@class[.=\'msline\']"/&gt;    &lt;xsl:variable name="offset" select="$maxl - @l"/&gt;    &lt;xsl:choose&gt;     &lt;xsl:when test="@class=\'msline\' and @l=\'*\'"&gt;      &lt;xsl:variable name="msl" select="*[1]"/&gt;      &lt;xsl:for-each select="(//node())[position()&amp;lt;=$maxl]"&gt;       &lt;xsl:copy-of select="$msl"/&gt;      &lt;/xsl:for-each&gt;     &lt;/xsl:when&gt;     &lt;xsl:when test="$c"&gt;      &lt;xsl:variable name="ldiff" select="$c/@l - @l"/&gt;      &lt;xsl:variable name="loffset" select="$maxl - $c/@l"/&gt;      &lt;xsl:for-each select="(//*)[position()&amp;lt;= $offset]"&gt;       &lt;xsl:variable name="pn" select="position()"/&gt;       &lt;xsl:variable name="cy" select="$c/*[position()=$pn - $loffset]"/&gt;	 &lt;m:mtd&gt;	  &lt;xsl:if test="$cy/*"&gt;	  &lt;m:mover&gt;&lt;m:mphantom&gt;&lt;m:mn&gt;0&lt;/m:mn&gt;&lt;/m:mphantom&gt;&lt;m:mpadded width="0em" lspace="-0.5width"&gt;	  &lt;xsl:copy-of select="$cy/*"/&gt;&lt;/m:mpadded&gt;&lt;/m:mover&gt;	  &lt;/xsl:if&gt;	 &lt;/m:mtd&gt;      &lt;/xsl:for-each&gt;      &lt;xsl:for-each select="*"&gt;       &lt;xsl:variable name="pn" select="position()"/&gt;       &lt;xsl:variable name="cy" select="$c/*[position()=$pn + $ldiff]"/&gt;       &lt;xsl:copy&gt;	&lt;xsl:copy-of select="@*"/&gt;	&lt;xsl:variable name="b"&gt;	 &lt;xsl:choose&gt;	  &lt;xsl:when test="not(string($cy/@crossout) or $cy/@crossout=\'none\')"&gt;&lt;xsl:copy-of select="*"/&gt;&lt;/xsl:when&gt;	  &lt;xsl:otherwise&gt;	   &lt;m:menclose notation="{$cy/@crossout}"&gt;&lt;xsl:copy-of select="*"/&gt;&lt;/m:menclose&gt;	  &lt;/xsl:otherwise&gt;	 &lt;/xsl:choose&gt;	&lt;/xsl:variable&gt;	&lt;xsl:choose&gt;	 &lt;xsl:when test="$cy/m:none or not($cy/*)"&gt;&lt;xsl:copy-of select="$b"/&gt;&lt;/xsl:when&gt;	 &lt;xsl:when test="not(string($cy/@location)) or $cy/@location=\'n\'"&gt;	  &lt;m:mover&gt;	   &lt;xsl:copy-of select="$b"/&gt;&lt;m:mpadded width="0em" lspace="-0.5width"&gt;	   &lt;xsl:copy-of select="$cy/*"/&gt;	  &lt;/m:mpadded&gt;	  &lt;/m:mover&gt;	 &lt;/xsl:when&gt;	 &lt;xsl:when test="$cy/@location=\'nw\'"&gt;	  &lt;m:mmultiscripts&gt;&lt;xsl:copy-of select="$b"/&gt;&lt;m:mprescripts/&gt;&lt;m:none/&gt;&lt;m:mpadded lspace="-1width" width="0em"&gt;&lt;xsl:copy-of select="$cy/*"/&gt;&lt;/m:mpadded&gt;&lt;/m:mmultiscripts&gt;	 &lt;/xsl:when&gt;	 &lt;xsl:when test="$cy/@location=\'s\'"&gt;	  &lt;m:munder&gt;&lt;xsl:copy-of select="$b"/&gt;&lt;m:mpadded width="0em" lspace="-0.5width"&gt;&lt;xsl:copy-of select="$cy/*"/&gt;&lt;/m:mpadded&gt;&lt;/m:munder&gt;	 &lt;/xsl:when&gt;	 &lt;xsl:when test="$cy/@location=\'sw\'"&gt;	  &lt;m:mmultiscripts&gt;&lt;xsl:copy-of select="$b"/&gt;&lt;m:mprescripts/&gt;&lt;m:mpadded lspace="-1width" width="0em"&gt;&lt;xsl:copy-of select="$cy/*"/&gt;&lt;/m:mpadded&gt;&lt;m:none/&gt;&lt;/m:mmultiscripts&gt;	 &lt;/xsl:when&gt;	 &lt;xsl:when test="$cy/@location=\'ne\'"&gt;	  &lt;m:msup&gt;&lt;xsl:copy-of select="$b"/&gt;&lt;m:mpadded width="0em"&gt;&lt;xsl:copy-of select="$cy/*"/&gt;&lt;/m:mpadded&gt;&lt;/m:msup&gt;	 &lt;/xsl:when&gt;	 &lt;xsl:when test="$cy/@location=\'se\'"&gt;	  &lt;m:msub&gt;&lt;xsl:copy-of select="$b"/&gt;&lt;m:mpadded width="0em"&gt;&lt;xsl:copy-of select="$cy/*"/&gt;&lt;/m:mpadded&gt;&lt;/m:msub&gt;	 &lt;/xsl:when&gt;	 &lt;xsl:when test="$cy/@location=\'w\'"&gt;	  &lt;m:msup&gt;&lt;m:mrow/&gt;&lt;m:mpadded lspace="-1width" width="0em"&gt;&lt;xsl:copy-of select="$cy/*"/&gt;&lt;/m:mpadded&gt;&lt;/m:msup&gt;	  &lt;xsl:copy-of select="$b"/&gt;	 &lt;/xsl:when&gt;	 &lt;xsl:when test="$cy/@location=\'e\'"&gt;	  &lt;xsl:copy-of select="$b"/&gt;	  &lt;m:msup&gt;&lt;m:mrow/&gt;&lt;m:mpadded width="0em"&gt;&lt;xsl:copy-of select="$cy/*"/&gt;&lt;/m:mpadded&gt;&lt;/m:msup&gt;	 &lt;/xsl:when&gt;	 &lt;xsl:otherwise&gt;	  &lt;xsl:copy-of select="$b"/&gt;	 &lt;/xsl:otherwise&gt;	&lt;/xsl:choose&gt;       &lt;/xsl:copy&gt;      &lt;/xsl:for-each&gt;     &lt;/xsl:when&gt;     &lt;xsl:otherwise&gt;      &lt;xsl:for-each select="(//*)[position()&amp;lt;= $offset]"&gt;&lt;m:mtd/&gt;&lt;/xsl:for-each&gt;      &lt;xsl:copy-of select="*"/&gt;     &lt;/xsl:otherwise&gt;    &lt;/xsl:choose&gt;   &lt;/m:mtr&gt;  &lt;/xsl:for-each&gt; &lt;/m:mtable&gt;&lt;/xsl:variable&gt;&lt;xsl:apply-templates mode="ml" select="c:node-set($m)"/&gt;&lt;/xsl:template&gt;&lt;xsl:template match="*" mode="ml"&gt; &lt;xsl:copy&gt;  &lt;xsl:copy-of select="@*"/&gt;  &lt;xsl:apply-templates mode="ml"/&gt; &lt;/xsl:copy&gt;&lt;/xsl:template&gt;&lt;xsl:template mode="ml" match="m:mtr[following-sibling::*[1][@class=\'msline\']]"&gt; &lt;m:mtr&gt;  &lt;xsl:copy-of select="@*"/&gt;  &lt;xsl:variable name="m" select="following-sibling::*[1]/m:mtd"/&gt;  &lt;xsl:for-each select="m:mtd"&gt;   &lt;xsl:variable name="p" select="position()"/&gt;   &lt;m:mtd&gt;    &lt;xsl:copy-of select="@*"/&gt;    &lt;xsl:choose&gt;     &lt;xsl:when test="$m[$p]/m:mpadded"&gt;      &lt;m:menclose notation="bottom"&gt;       &lt;m:mpadded depth=".1em" height="1em" width=".4em"&gt;	&lt;xsl:copy-of select="*"/&gt;       &lt;/m:mpadded&gt;      &lt;/m:menclose&gt;     &lt;/xsl:when&gt;     &lt;xsl:otherwise&gt;      &lt;xsl:copy-of select="*"/&gt;     &lt;/xsl:otherwise&gt;    &lt;/xsl:choose&gt;   &lt;/m:mtd&gt;  &lt;/xsl:for-each&gt; &lt;/m:mtr&gt;&lt;/xsl:template&gt;&lt;xsl:template mode="ml" match="m:mtr[not(preceding-sibling::*)][@class=\'msline\']" priority="3"&gt; &lt;m:mtr&gt;  &lt;xsl:copy-of select="@*"/&gt;  &lt;xsl:for-each select="m:mtd"&gt;   &lt;m:mtd&gt;    &lt;xsl:copy-of select="@*"/&gt;    &lt;xsl:if test="m:mpadded"&gt;     &lt;m:menclose notation="bottom"&gt;      &lt;m:mpadded depth=".1em" height="1em" width=".4em"&gt;       &lt;m:mspace width=".2em"/&gt;      &lt;/m:mpadded&gt;     &lt;/m:menclose&gt;    &lt;/xsl:if&gt;   &lt;/m:mtd&gt;  &lt;/xsl:for-each&gt; &lt;/m:mtr&gt;&lt;/xsl:template&gt;&lt;xsl:template mode="ml" match="m:mtr[@class=\'msline\']" priority="2"/&gt;&lt;xsl:template mode="mstack1" match="*"&gt; &lt;xsl:param name="p"/&gt; &lt;xsl:param name="maxl" select="0"/&gt; &lt;m:mtr l="{1 + $p}"&gt;  &lt;xsl:if test="ancestor::mstack[1]/@stackalign=\'left\'"&gt;   &lt;xsl:attribute name="l"&gt;&lt;xsl:value-of  select="$p"/&gt;&lt;/xsl:attribute&gt;  &lt;/xsl:if&gt;  &lt;m:mtd&gt;&lt;xsl:apply-templates select="."/&gt;&lt;/m:mtd&gt; &lt;/m:mtr&gt;&lt;/xsl:template&gt;&lt;xsl:template mode="mstack1" match="m:msrow"&gt; &lt;xsl:param name="p"/&gt; &lt;xsl:param name="maxl" select="0"/&gt; &lt;xsl:variable  name="align1" select="ancestor::m:mstack[1]/@stackalign"/&gt; &lt;xsl:variable name="align"&gt;  &lt;xsl:choose&gt;   &lt;xsl:when test="string($align1)=\'\'"&gt;decimalpoint&lt;/xsl:when&gt;   &lt;xsl:otherwise&gt;&lt;xsl:value-of select="$align1"/&gt;&lt;/xsl:otherwise&gt;  &lt;/xsl:choose&gt; &lt;/xsl:variable&gt; &lt;xsl:variable name="row"&gt;  &lt;xsl:apply-templates mode="mstack1" select="*"&gt;   &lt;xsl:with-param name="p" select="0"/&gt;  &lt;/xsl:apply-templates&gt; &lt;/xsl:variable&gt; &lt;xsl:text&gt;&amp;#10;&lt;/xsl:text&gt; &lt;xsl:variable name="l1"&gt;  &lt;xsl:choose&gt;   &lt;xsl:when test="$align=\'decimalpoint\' and m:mn"&gt;    &lt;xsl:for-each select="c:node-set($row)/m:mtr[m:mtd/m:mn][1]"&gt;     &lt;xsl:value-of select="number(sum(@l))+count(preceding-sibling::*/@l)"/&gt;    &lt;/xsl:for-each&gt;   &lt;/xsl:when&gt;   &lt;xsl:when test="$align=\'right\' or $align=\'decimalpoint\'"&gt;    &lt;xsl:value-of select="count(c:node-set($row)/m:mtr/m:mtd)"/&gt;   &lt;/xsl:when&gt;   &lt;xsl:otherwise&gt;    &lt;xsl:value-of select="0"/&gt;   &lt;/xsl:otherwise&gt;  &lt;/xsl:choose&gt; &lt;/xsl:variable&gt; &lt;m:mtr class="msrow" l="{number($l1) + number(sum(@position)) +$p}"&gt;  &lt;xsl:copy-of select="c:node-set($row)/m:mtr/*"/&gt; &lt;/m:mtr&gt;&lt;/xsl:template&gt;&lt;xsl:template mode="mstack1" match="m:mn"&gt; &lt;xsl:param name="p"/&gt; &lt;xsl:variable name="align1" select="ancestor::m:mstack[1]/@stackalign"/&gt; &lt;xsl:variable name="dp1" select="ancestor::*[@decimalpoint][1]/@decimalpoint"/&gt; &lt;xsl:variable name="align"&gt;  &lt;xsl:choose&gt;   &lt;xsl:when test="string($align1)=\'\'"&gt;decimalpoint&lt;/xsl:when&gt;   &lt;xsl:otherwise&gt;&lt;xsl:value-of select="$align1"/&gt;&lt;/xsl:otherwise&gt;  &lt;/xsl:choose&gt; &lt;/xsl:variable&gt; &lt;xsl:variable name="dp"&gt;  &lt;xsl:choose&gt;   &lt;xsl:when test="string($dp1)=\'\'"&gt;.&lt;/xsl:when&gt;   &lt;xsl:otherwise&gt;&lt;xsl:value-of select="$dp1"/&gt;&lt;/xsl:otherwise&gt;  &lt;/xsl:choose&gt; &lt;/xsl:variable&gt; &lt;m:mtr l="$p"&gt;  &lt;xsl:variable name="mn" select="normalize-space(.)"/&gt;  &lt;xsl:variable name="len" select="string-length($mn)"/&gt;  &lt;xsl:choose&gt;   &lt;xsl:when test="$align=\'right\' or ($align=\'decimalpoint\' and not(contains($mn,$dp)))"&gt;    &lt;xsl:attribute name="l"&gt;&lt;xsl:value-of select="$p + $len"/&gt;&lt;/xsl:attribute&gt;   &lt;/xsl:when&gt;   &lt;xsl:when test="$align=\'center\'"&gt;    &lt;xsl:attribute name="l"&gt;&lt;xsl:value-of select="round(($p + $len) div 2)"/&gt;&lt;/xsl:attribute&gt;   &lt;/xsl:when&gt;   &lt;xsl:when test="$align=\'decimalpoint\'"&gt;    &lt;xsl:attribute name="l"&gt;&lt;xsl:value-of select="$p + string-length(substring-before($mn,$dp))"/&gt;&lt;/xsl:attribute&gt;   &lt;/xsl:when&gt;  &lt;/xsl:choose&gt;  &lt;xsl:for-each select="(//node())[position() &amp;lt;=$len]"&gt;   &lt;xsl:variable name="pos" select="position()"/&gt;   &lt;m:mtd&gt;&lt;m:mn&gt;&lt;xsl:value-of select="substring($mn,$pos,1)"/&gt;&lt;/m:mn&gt;&lt;/m:mtd&gt;  &lt;/xsl:for-each&gt; &lt;/m:mtr&gt;&lt;/xsl:template&gt;&lt;xsl:template match="m:msgroup" mode="mstack1"&gt; &lt;xsl:param name="p"/&gt; &lt;xsl:variable name="s" select="number(sum(@shift))"/&gt; &lt;xsl:variable name="thisp" select="number(sum(@position))"/&gt; &lt;xsl:for-each select="*"&gt;  &lt;xsl:apply-templates mode="mstack1" select="."&gt;   &lt;xsl:with-param name="p" select="number($p)+$thisp+(position()-1)*$s"/&gt;  &lt;/xsl:apply-templates&gt; &lt;/xsl:for-each&gt;&lt;/xsl:template&gt;&lt;xsl:template match="m:msline" mode="mstack1"&gt; &lt;xsl:param name="p"/&gt; &lt;xsl:variable  name="align1" select="ancestor::m:mstack[1]/@stackalign"/&gt; &lt;xsl:variable name="align"&gt;  &lt;xsl:choose&gt;   &lt;xsl:when test="string($align1)=\'\'"&gt;decimalpoint&lt;/xsl:when&gt;   &lt;xsl:otherwise&gt;&lt;xsl:value-of select="$align1"/&gt;&lt;/xsl:otherwise&gt;  &lt;/xsl:choose&gt; &lt;/xsl:variable&gt; &lt;m:mtr class="msline"&gt;  &lt;xsl:attribute name="l"&gt;   &lt;xsl:choose&gt;    &lt;xsl:when test="not(string(@length)) or @length=0"&gt;*&lt;/xsl:when&gt;    &lt;xsl:when test="string($align)=\'right\' or string($align)=\'decimalpoint\' "&gt;&lt;xsl:value-of select="$p+ @length"/&gt;&lt;/xsl:when&gt;    &lt;xsl:otherwise&gt;&lt;xsl:value-of select="$p"/&gt;&lt;/xsl:otherwise&gt;   &lt;/xsl:choose&gt;  &lt;/xsl:attribute&gt;  &lt;xsl:variable name="w"&gt;   &lt;xsl:choose&gt;    &lt;xsl:when test="@mslinethickness=\'thin\'"&gt;0.1em&lt;/xsl:when&gt;    &lt;xsl:when test="@mslinethickness=\'medium\'"&gt;0.15em&lt;/xsl:when&gt;    &lt;xsl:when test="@mslinethickness=\'thick\'"&gt;0.2em&lt;/xsl:when&gt;    &lt;xsl:when test="@mslinethickness"&gt;&lt;xsl:value-of select="@mslinethickness"/&gt;&lt;/xsl:when&gt;    &lt;xsl:otherwise&gt;0.15em&lt;/xsl:otherwise&gt;   &lt;/xsl:choose&gt;  &lt;/xsl:variable&gt;  &lt;xsl:choose&gt;   &lt;xsl:when test="not(string(@length)) or @length=0"&gt;    &lt;m:mtd class="mslinemax"&gt;     &lt;m:mpadded lspace="-0.2em" width="0em" height="0em"&gt;      &lt;m:mfrac linethickness="{$w}"&gt;       &lt;m:mspace width=".4em"/&gt;       &lt;m:mrow/&gt;      &lt;/m:mfrac&gt;     &lt;/m:mpadded&gt;    &lt;/m:mtd&gt;   &lt;/xsl:when&gt;   &lt;xsl:otherwise&gt;    &lt;xsl:variable name="l" select="@length"/&gt;    &lt;xsl:for-each select="(//node())[position()&amp;lt;=$l]"&gt;     &lt;m:mtd class="msline"&gt;      &lt;m:mpadded lspace="-0.2em" width="0em" height="0em"&gt;       &lt;m:mfrac linethickness="{$w}"&gt;	&lt;m:mspace width=".4em"/&gt;	&lt;m:mrow/&gt;       &lt;/m:mfrac&gt;      &lt;/m:mpadded&gt;     &lt;/m:mtd&gt;    &lt;/xsl:for-each&gt;   &lt;/xsl:otherwise&gt;  &lt;/xsl:choose&gt; &lt;/m:mtr&gt;&lt;/xsl:template&gt;&lt;xsl:template match="m:mscarries" mode="mstack1"&gt; &lt;xsl:param name="p"/&gt; &lt;xsl:variable  name="align1" select="ancestor::m:mstack[1]/@stackalign"/&gt; &lt;xsl:variable name="l1"&gt;  &lt;xsl:choose&gt;   &lt;xsl:when test="string($align1)=\'left\'"&gt;0&lt;/xsl:when&gt;   &lt;xsl:otherwise&gt;&lt;xsl:value-of select="count(*)"/&gt;&lt;/xsl:otherwise&gt;  &lt;/xsl:choose&gt; &lt;/xsl:variable&gt; &lt;m:mtr class="mscarries" l="{$p + $l1 + sum(@position)}"&gt;  &lt;xsl:apply-templates select="*" mode="msc"/&gt; &lt;/m:mtr&gt;&lt;/xsl:template&gt;&lt;xsl:template match="*" mode="msc"&gt; &lt;m:mtd&gt;  &lt;xsl:copy-of select="../@location|../@crossout"/&gt;  &lt;xsl:choose&gt;   &lt;xsl:when test="../@scriptsizemultiplier"&gt;    &lt;m:mstyle mathsize="{round(../@scriptsizemultiplier div .007)}%"&gt;     &lt;xsl:apply-templates select="."/&gt;    &lt;/m:mstyle&gt;   &lt;/xsl:when&gt;   &lt;xsl:otherwise&gt;    &lt;xsl:apply-templates select="."/&gt;   &lt;/xsl:otherwise&gt;  &lt;/xsl:choose&gt; &lt;/m:mtd&gt;&lt;/xsl:template&gt;&lt;xsl:template match="m:mscarry" mode="msc"&gt; &lt;m:mtd&gt; &lt;xsl:copy-of select="@location|@crossout"/&gt;  &lt;xsl:choose&gt;   &lt;xsl:when test="../@scriptsizemultiplier"&gt;    &lt;m:mstyle mathsize="{round(../@scriptsizemultiplier div .007)}%"&gt;     &lt;xsl:apply-templates/&gt;    &lt;/m:mstyle&gt;   &lt;/xsl:when&gt;   &lt;xsl:otherwise&gt;    &lt;xsl:apply-templates/&gt;   &lt;/xsl:otherwise&gt;  &lt;/xsl:choose&gt; &lt;/m:mtd&gt;&lt;/xsl:template&gt;&lt;xsl:template match="m:mlongdiv" priority="11"&gt; &lt;xsl:variable name="ms"&gt;  &lt;m:mstack&gt;   &lt;xsl:copy-of select="(ancestor-or-self::*/@decimalpoint)[last()]"/&gt;   &lt;xsl:choose&gt;    &lt;xsl:when test="@longdivstyle=\'left)(right\'"&gt;     &lt;m:msrow&gt;      &lt;m:mrow&gt;&lt;xsl:copy-of select="*[1]"/&gt;&lt;/m:mrow&gt;      &lt;m:mo&gt;)&lt;/m:mo&gt;      &lt;xsl:copy-of select="*[3]"/&gt;      &lt;m:mo&gt;(&lt;/m:mo&gt;      &lt;xsl:copy-of select="*[2]"/&gt;     &lt;/m:msrow&gt;    &lt;/xsl:when&gt;    &lt;xsl:when test="@longdivstyle=\'left/\right\'"&gt;     &lt;m:msrow&gt;      &lt;m:mrow&gt;&lt;xsl:copy-of select="*[1]"/&gt;&lt;/m:mrow&gt;      &lt;m:mo&gt;/&lt;/m:mo&gt;      &lt;xsl:copy-of select="*[3]"/&gt;      &lt;m:mo&gt;&lt;/m:mo&gt;      &lt;xsl:copy-of select="*[2]"/&gt;     &lt;/m:msrow&gt;    &lt;/xsl:when&gt;    &lt;xsl:when test="@longdivstyle=\':right=right\'"&gt;     &lt;m:msrow&gt;      &lt;xsl:copy-of select="*[3]"/&gt;      &lt;m:mo&gt;:&lt;/m:mo&gt;      &lt;xsl:copy-of select="*[1]"/&gt;      &lt;m:mo&gt;=&lt;/m:mo&gt;      &lt;xsl:copy-of select="*[2]"/&gt;     &lt;/m:msrow&gt;    &lt;/xsl:when&gt;    &lt;xsl:when test="@longdivstyle=\'stackedrightright\'		    or @longdivstyle=\'mediumstackedrightright\'		    or @longdivstyle=\'shortstackedrightright\'		    or @longdivstyle=\'stackedleftleft\'		    "&gt;     &lt;xsl:attribute name="align"&gt;top&lt;/xsl:attribute&gt;     &lt;xsl:copy-of select="*[3]"/&gt;    &lt;/xsl:when&gt;    &lt;xsl:when test="@longdivstyle=\'stackedleftlinetop\'"&gt;     &lt;xsl:copy-of select="*[2]"/&gt;     &lt;m:msline length="{string-length(*[3])-1}"/&gt;     &lt;m:msrow&gt;      &lt;m:mrow&gt;     &lt;m:menclose notation="bottom right"&gt;      &lt;xsl:copy-of select="*[1]"/&gt;     &lt;/m:menclose&gt;      &lt;/m:mrow&gt;      &lt;xsl:copy-of select="*[3]"/&gt;     &lt;/m:msrow&gt;    &lt;/xsl:when&gt;    &lt;xsl:when test="@longdivstyle=\'righttop\'"&gt;     &lt;xsl:copy-of select="*[2]"/&gt;     &lt;m:msline length="{string-length(*[3])}"/&gt;     &lt;m:msrow&gt;      &lt;xsl:copy-of select="*[3]"/&gt;      &lt;m:menclose notation="top left bottom"&gt;       &lt;xsl:copy-of select="*[1]"/&gt;&lt;/m:menclose&gt;     &lt;/m:msrow&gt;    &lt;/xsl:when&gt;    &lt;xsl:otherwise&gt;     &lt;xsl:copy-of select="*[2]"/&gt;     &lt;m:msline length="{string-length(*[3])}"/&gt;     &lt;m:msrow&gt;      &lt;m:mrow&gt;&lt;xsl:copy-of select="*[1]"/&gt;&lt;/m:mrow&gt;      &lt;m:mo&gt;)&lt;/m:mo&gt;      &lt;xsl:copy-of select="*[3]"/&gt;     &lt;/m:msrow&gt;    &lt;/xsl:otherwise&gt;   &lt;/xsl:choose&gt;   &lt;xsl:copy-of select="*[position()&amp;gt;3]"/&gt;  &lt;/m:mstack&gt; &lt;/xsl:variable&gt; &lt;xsl:choose&gt;  &lt;xsl:when test="@longdivstyle=\'stackedrightright\'"&gt;   &lt;m:menclose notation="right"&gt;    &lt;xsl:apply-templates select="c:node-set($ms)"/&gt;   &lt;/m:menclose&gt;   &lt;m:mtable align="top"&gt;    &lt;m:mtr&gt;     &lt;m:menclose notation="bottom"&gt;      &lt;xsl:copy-of select="*[1]"/&gt;     &lt;/m:menclose&gt;    &lt;/m:mtr&gt;    &lt;m:mtr&gt;     &lt;mtd&gt;&lt;xsl:copy-of select="*[2]"/&gt;&lt;/mtd&gt;    &lt;/m:mtr&gt;   &lt;/m:mtable&gt;  &lt;/xsl:when&gt;    &lt;xsl:when test="@longdivstyle=\'mediumstackedrightright\'"&gt;    &lt;xsl:apply-templates select="c:node-set($ms)"/&gt;   &lt;m:menclose notation="left"&gt;   &lt;m:mtable align="top"&gt;    &lt;m:mtr&gt;     &lt;m:menclose notation="bottom"&gt;      &lt;xsl:copy-of select="*[1]"/&gt;     &lt;/m:menclose&gt;    &lt;/m:mtr&gt;    &lt;m:mtr&gt;     &lt;mtd&gt;&lt;xsl:copy-of select="*[2]"/&gt;&lt;/mtd&gt;    &lt;/m:mtr&gt;   &lt;/m:mtable&gt;   &lt;/m:menclose&gt;  &lt;/xsl:when&gt;  &lt;xsl:when test="@longdivstyle=\'shortstackedrightright\'"&gt;    &lt;xsl:apply-templates select="c:node-set($ms)"/&gt;   &lt;m:mtable align="top"&gt;    &lt;m:mtr&gt;     &lt;m:menclose notation="left bottom"&gt;      &lt;xsl:copy-of select="*[1]"/&gt;     &lt;/m:menclose&gt;    &lt;/m:mtr&gt;    &lt;m:mtr&gt;     &lt;mtd&gt;&lt;xsl:copy-of select="*[2]"/&gt;&lt;/mtd&gt;    &lt;/m:mtr&gt;   &lt;/m:mtable&gt;  &lt;/xsl:when&gt;  &lt;xsl:when test="@longdivstyle=\'stackedleftleft\'"&gt;   &lt;m:mtable align="top"&gt;    &lt;m:mtr&gt;     &lt;m:menclose notation="bottom"&gt;      &lt;xsl:copy-of select="*[1]"/&gt;     &lt;/m:menclose&gt;    &lt;/m:mtr&gt;    &lt;m:mtr&gt;     &lt;mtd&gt;&lt;xsl:copy-of select="*[2]"/&gt;&lt;/mtd&gt;    &lt;/m:mtr&gt;   &lt;/m:mtable&gt;   &lt;m:menclose notation="left"&gt;    &lt;xsl:apply-templates select="c:node-set($ms)"/&gt;   &lt;/m:menclose&gt;  &lt;/xsl:when&gt;  &lt;xsl:otherwise&gt;   &lt;xsl:apply-templates select="c:node-set($ms)"/&gt;  &lt;/xsl:otherwise&gt; &lt;/xsl:choose&gt;&lt;/xsl:template&gt;&lt;xsl:template match="m:menclose[@notation=\'madruwb\']" mode="rtl"&gt; &lt;m:menclose notation="bottom right"&gt;  &lt;xsl:apply-templates mode="rtl"/&gt; &lt;/m:menclose&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;';<span class="cstat-no" title="statement not covered" >v</span>ar b;<span class="cstat-no" title="statement not covered" >i</span>f(window.XSLTProcessor){<span class="cstat-no" title="statement not covered" >if(!d.ParseXML){<span class="cstat-no" title="statement not covered" >d.ParseXML=d.createParser()}<span class="cstat-no" title="statement not covered" ></span>d</span>.mml3XSLT=new XSLTProcessor();<span class="cstat-no" title="statement not covered" >d</span>.mml3XSLT.importStylesheet(d.ParseXML(e))}</span>else{<span class="cstat-no" title="statement not covered" >if(MathJax.Hub.Browser.isMSIE){<span class="cstat-no" title="statement not covered" >if(MathJax.Hub.Browser.versionAtLeast("9.0")||(document.documentMode||0)&gt;=9){<span class="cstat-no" title="statement not covered" >b=new ActiveXObject("Msxml2.FreeThreadedDOMDocument");<span class="cstat-no" title="statement not covered" >b</span>.loadXML(e);<span class="cstat-no" title="statement not covered" >v</span>ar a=new ActiveXObject("Msxml2.XSLTemplate");<span class="cstat-no" title="statement not covered" >a</span>.stylesheet=b;<span class="cstat-no" title="statement not covered" >d</span>.mml3XSLT={mml3:a.createProcessor(),transformToDocument:<span class="fstat-no" title="function not covered" >function(h){<span class="cstat-no" title="statement not covered" ></span>this.mml3.input=h;<span class="cstat-no" title="statement not covered" >t</span>his.mml3.transform();<span class="cstat-no" title="statement not covered" >r</span>eturn this.mml3.output}</span>}}</span>else{<span class="cstat-no" title="statement not covered" >b=d.createMSParser();<span class="cstat-no" title="statement not covered" >b</span>.async=false;<span class="cstat-no" title="statement not covered" >b</span>.loadXML(e);<span class="cstat-no" title="statement not covered" >d</span>.mml3XSLT={mml3:b,transformToDocument:<span class="fstat-no" title="function not covered" >function(h){<span class="cstat-no" title="statement not covered" ></span>return h.documentElement.transformNode(this.mml3)}</span>}}</span>}</span>else{<span class="cstat-no" title="statement not covered" >d.mml3XSLT=null}</span>}<span class="cstat-no" title="statement not covered" ></span>M</span>athJax.Ajax.Styles({".MathJax .mi, .MathJax .mo, .MathJax .mn, .MathJax .mtext":{direction:"ltr",display:"inline-block"},".MathJax .ms, .MathJax .mspace, .MathJax .mglyph":{direction:"ltr",display:"inline-block"}});<span class="cstat-no" title="statement not covered" >M</span>athJax.Hub.Startup.signal.Post("MathML mml3.js Ready")}</span>);<span class="cstat-no" title="statement not covered" >M</span>athJax.Ajax.loadComplete("[MathJax]/extensions/MathML/mml3.js");</span>
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Fri Apr 21 2017 15:32:58 GMT+0000 (UTC)</div>
</div>
</body>
</html>
